<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <title>Checador de Asistencia</title>
  <style>
    body { font-family: Arial, sans-serif; text-align: center; padding: 20px; background: #f4f4f9; }
    button { padding: 12px 24px; font-size: 16px; margin-top: 20px; border: none; border-radius: 8px; background: #4CAF50; color: white; cursor: pointer; }
    button:hover { background: #45a049; }
    .card { border: 1px solid #ccc; border-radius: 10px; padding: 20px; margin-top: 20px; background: white; box-shadow: 0px 4px 6px rgba(0,0,0,0.1); }
    input { padding: 10px; border-radius: 6px; border: 1px solid #ccc; width: 200px; }
  </style>
</head>
<body>
  <h1>📍 Checador de Asistencia</h1>
  <p>Ingresa tu nombre y registra tu asistencia con ubicación</p>

  <input type="text" id="docente" placeholder="Ejemplo: Juan Pérez"><br><br>
  <button onclick="registrarAsistencia()">Registrar asistencia</button>

  <div id="resultado" class="card"></div>

  <script>
    // Ejemplo de horarios (puedes editar con tus docentes)
    const horarios = {
      "Juan Pérez": { "lunes": "Matemáticas 9:00-10:00 Aula 3", "martes": "Física 10:00-11:00 Aula 2" },
      "María López": { "lunes": "Historia 11:00-12:00 Aula 1", "martes": "Español 8:00-9:00 Aula 5" }
    };

    function registrarAsistencia() {
      const docente = document.getElementById("docente").value.trim();
      if (!docente) {
        alert("Por favor escribe tu nombre");
        return;
      }

      if (!navigator.geolocation) {
        alert("Tu navegador no soporta geolocalización");
        return;
      }

      navigator.geolocation.getCurrentPosition(pos => {
        const lat = pos.coords.latitude;
        const lon = pos.coords.longitude;

        const hoy = new Date();
        const diaSemana = hoy.toLocaleDateString("es-ES", { weekday: "long" }).toLowerCase();
        const clase = horarios[docente]?.[diaSemana] || "No tienes clase asignada";

        document.getElementById("resultado").innerHTML = `
          ✅ <b>Asistencia registrada</b><br><br>
          👨‍🏫 Docente: <b>${docente}</b><br>
          📅 Día: ${diaSemana}<br>
          🕒 Hora: ${hoy.toLocaleTimeString()}<br>
          📍 Ubicación: ${lat.toFixed(4)}, ${lon.toFixed(4)}<br>
          📚 Clase: ${clase}
        `;
      }, () => {
        alert("No se pudo obtener la ubicación");
      });
    }
  </script>
</body>
</html>
